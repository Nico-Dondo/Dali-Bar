"use strict";(()=>{var ce=Object.defineProperty;var i=(S,T)=>ce(S,"name",{value:T,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["codespaces"],{54891:(S,T,f)=>{var w=f(64463),g=f(59753),u=f(65935),p=f(57654);(0,g.on)("remote-input-error","#js-codespaces-repository-select",()=>{const e=document.querySelector("#js-codespaces-unable-load-repositories-warning");e.hidden=!1});function h(e){const t=new URL(document.location.href,window.location.origin),n=new URLSearchParams(t.search),a=["vscs_target"];for(const[c,E]of e.entries()){if(a.includes(c)||!E){n.delete(c);continue}n.set(c,E)}window.history.replaceState({},"",`?${n.toString()}`)}i(h,"updateNewCodespaceUrl"),(0,u.AC)(".js-new-codespace-form",async function(e,t){const n=e.closest("[data-replace-remote-form-target]"),a=n.querySelector(".js-new-codespace-submit-button");a instanceof HTMLInputElement&&(a.disabled=!0),e.classList.remove("is-error"),e.classList.add("is-loading");try{const c=await t.html();if(c.status!==200&&r(),n.replaceWith(c.html),n.getAttribute("data-allow-update-url")==="true"){const E=new FormData(document.querySelector("form.js-new-codespace-form"));h(E)}}catch{r()}});function r(){const e=new URL(document.location.href,window.location.origin),t=new URLSearchParams(e.search);t.set("response_error","true"),window.location.replace(`${window.location.pathname}?${t.toString()}`)}i(r,"resetNewCodespacePageWithResponseError");let d=null;function v(e){d=e,e!==null&&document.querySelector(".js-codespace-loading-steps").setAttribute("data-current-state",d)}i(v,"advanceLoadingState"),(0,w.N7)(".js-codespace-loading-steps",{constructor:HTMLElement,add:e=>{const t=e.getAttribute("data-current-state");t&&v(t)}}),(0,w.N7)(".js-codespace-advance-state",{constructor:HTMLElement,add:e=>{const t=e.getAttribute("data-state");t&&v(t)}});let s=null;function o(e){(0,u.AC)(".js-fetch-cascade-token",async function(t,n){try{s=(await n.json()).json.token}catch{}}),(0,p.Bt)(e)}i(o,"fetchCascadeToken");function m(e,t,n){if(document.querySelector(e)){const c=Date.now(),L=setInterval(i(()=>{const ae=Date.now()-c;if(s||ae>=n){clearInterval(L),t(s||void 0);return}},"checkToken"),50)}}i(m,"waitForCascadeTokenWithTimeout"),(0,w.N7)(".js-auto-submit-form",{constructor:HTMLFormElement,initialize:p.Bt}),(0,w.N7)(".js-workbench-form-container",{constructor:HTMLElement,add:e=>{const t=e.querySelector(".js-cascade-token");y(e,t)}});function y(e,t){if(t.value!==""){const n=e.querySelector("form");(0,p.Bt)(n)}else{const n=document.querySelector(".js-fetch-cascade-token");o(n),m(".js-workbench-form-container",l,1e4)}}i(y,"resolveCascadeToken");function l(e){const t=document.querySelector(".js-workbench-form-container form");t&&e?(b(t,e),C(t,e),(0,p.Bt)(t)):v("failed")}i(l,"insertCodespaceTokenIntoShowAuthForm");function b(e,t){const n=e.querySelector(".js-cascade-token");n&&n.setAttribute("value",t)}i(b,"insertCodespaceTokenIntoCascadeField");function C(e,t){const n=e.querySelector(".js-partner-info");if(n){let a=n.getAttribute("value");a&&(a=a.replace("%CASCADE_TOKEN_PLACEHOLDER%",t),n.setAttribute("value",a))}}i(C,"insertCodespaceTokenIntoPartnerInfo");var _=f(90420),x=f(69567),O=f(7732),F=f(5638);(0,g.on)("submit",".js-toggle-hidden-codespace-form",function(e){const t=e.currentTarget;A(t)});function A(e){const t=e.querySelectorAll(".js-toggle-hidden");for(const a of t)a.hidden=!a.hidden;const n=e.querySelectorAll(".js-toggle-disabled");for(const a of n)a.getAttribute("aria-disabled")?a.removeAttribute("aria-disabled"):a.setAttribute("aria-disabled","true")}i(A,"toggleFormSubmissionInFlight");function K(e){return e.closest("[data-replace-remote-form-target]")}i(K,"getFormTarget");async function q(){const e=document.querySelector(".js-codespaces-details-container");e&&(e.open=!1);const t=document.querySelector("new-codespace");if(t&&!t.getAttribute("data-no-submit-on-create"))try{const n=await fetch("/codespaces/new");if(n&&n.ok){const a=(0,F.r)(document,await n.text());t.replaceWith(a)}}catch{}}i(q,"createFormSubmitted"),(0,g.on)("submit",".js-create-codespaces-form-command",function(e){const t=e.currentTarget;t.classList.contains("js-open-in-vscode-form")||(q(),A(t))}),(0,g.on)("submit",".js-open-in-web-form",async function(e){const t=e.currentTarget;e.preventDefault(),t.submit()}),(0,g.on)("submit","form.js-codespaces-delete-form",async function(e){e.preventDefault();const t=e.currentTarget;try{const n=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}});if(n.ok){const a=(0,F.r)(document,await n.text());K(t).replaceWith(a)}else if(n.status===401)t.submit();else throw new Error(`Unexpected response: ${n.statusText}`)}finally{A(t)}}),(0,g.on)("submit","form.js-open-in-vscode-form",async function(e){e.preventDefault();const t=e.currentTarget;await z(t)});async function B(e,t){const n=document.querySelector(`#${e}`),a=await(0,O.W)({content:n.content.cloneNode(!0),dialogClass:"project-dialog"});return t&&t.setAttribute("aria-expanded","true"),a.addEventListener("dialog:remove",function(){t&&A(t)},{once:!0}),a}i(B,"openDialog");async function z(e){const t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.ok){const n=await t.json();n.codespace_url?(window.location.href=n.codespace_url,A(e),q(),N()):(e.closest("get-repo")||e.closest("new-codespace")?(e.setAttribute("data-src",n.loading_url),e.dispatchEvent(new CustomEvent("pollvscode"))):e.closest("create-button")&&(e.setAttribute("data-src",n.loading_url),e.dispatchEvent(new CustomEvent("prpollvscode"))),A(e))}else if(t.status===422){const n=await t.json();if(n.error_type==="concurrency_limit_error")await B("concurrency-error",e);else{const a=document.querySelector("template.js-flash-template"),c=n.error;a.after(new x.R(a,{className:"flash-error",message:c})),A(e)}}}i(z,"createCodespaceIntoVscode");async function N(){const e=document.querySelector(".js-codespaces-completable"),t=e&&e.getAttribute("data-src");if(!t)return;const n=await fetch(t,{method:"GET",headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}});if(n.ok){const a=(0,F.r)(document,await n.text());e.replaceWith(a)}else throw new Error(`Unexpected response: ${n.statusText}`)}i(N,"renderAllDone");var $=Object.defineProperty,X=Object.getOwnPropertyDescriptor,G=i((e,t,n,a)=>{for(var c=a>1?void 0:a?X(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&$(t,n,c),c},"__decorateClass");let W=i(class extends HTMLElement{async connectedCallback(){B("concurrency-error")}},"ConcurrencyLimitElement");W=G([_.Ih],W);var Z=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,j=i((e,t,n,a)=>{for(var c=a>1?void 0:a?Q(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&Z(t,n,c),c},"new_codespace_element_decorateClass");let M=i(class extends HTMLElement{async connectedCallback(){const e=new URL(document.location.href,window.location.origin),t=new URLSearchParams(e.search);t.has("response_error")&&(t.delete("response_error"),window.history.replaceState({},"",`?${t.toString()}`))}toggleLoadingVscode(){const e=this.loadingVscode.hidden,t=this.children;for(let n=0;n<t.length;n++)t[n].hidden=e;this.loadingVscode.hidden=!e}machineTypeSelected(e){const n=e.currentTarget.getAttribute("data-sku-name");this.skuNameInput&&n&&(this.skuNameInput.value=n),this.advancedOptionsForm&&(this.advancedOptionsForm.requestSubmit?this.advancedOptionsForm.requestSubmit():this.advancedOptionsForm.submit())}pollForVscode(e){this.toggleLoadingVscode();const t=e.currentTarget.getAttribute("data-src");t&&this.vscodePoller.setAttribute("src",t)}vscsTargetUrlUpdated(e){const t=e.currentTarget;this.vscsTargetUrl.value=t.value}},"NewCodespaceElement");j([_.fA],M.prototype,"vscsTargetUrl",2),j([_.fA],M.prototype,"loadingVscode",2),j([_.fA],M.prototype,"vscodePoller",2),j([_.fA],M.prototype,"advancedOptionsForm",2),j([_.fA],M.prototype,"skuNameInput",2),M=j([_.Ih],M);var J=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,k=i((e,t,n,a)=>{for(var c=a>1?void 0:a?Y(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&J(t,n,c),c},"export_branch_element_decorateClass");let H=i(class extends HTMLElement{constructor(){super(...arguments);this.abortPoll=null}connectedCallback(){this.abortPoll=new AbortController,this.loadingIndicator.hidden||this.startPoll()}disconnectedCallback(){var e;(e=this.abortPoll)==null||e.abort()}async exportBranch(e){e.preventDefault(),this.form.hidden=!0,this.loadingIndicator.hidden=!1,(await fetch(this.form.action,{method:this.form.method,body:new FormData(this.form),headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}})).ok?this.startPoll():(this.form.hidden=!1,this.loadingIndicator.hidden=!0)}async startPoll(){const e=this.getAttribute("data-exported-codespace-url")||"",t=await this.poll(e);if(t)if(t.ok)this.loadingIndicator.hidden=!0,this.viewBranchLink.hidden=!1;else{const n=this.getAttribute("data-export-error-redirect-url")||"";window.location.href=n}}async poll(e,t=1e3){var n,a;if((n=this.abortPoll)==null?void 0:n.signal.aborted)return;const c=await fetch(e,{signal:(a=this.abortPoll)==null?void 0:a.signal});return c.status===202?(await new Promise(E=>setTimeout(E,t)),this.poll(e,t*1.5)):c}},"ExportBranchElement");k([_.fA],H.prototype,"form",2),k([_.fA],H.prototype,"loadingIndicator",2),k([_.fA],H.prototype,"viewBranchLink",2),H=k([_.Ih],H);var ee=f(66963),te=Object.defineProperty,se=Object.getOwnPropertyDescriptor,D=i((e,t,n,a)=>{for(var c=a>1?void 0:a?se(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&te(t,n,c),c},"options_popover_element_decorateClass");let I=i(class extends HTMLElement{reset(e){for(e.preventDefault(),this.dropdownDetails.hidden=!1,this.modalDetails.hidden=!0,this.exportDetails.hidden=!0,this.skuForm.hidden=!1;this.resultMessage.firstChild;)this.resultMessage.removeChild(this.resultMessage.firstChild);this.resultMessage.hidden=!0,this.errorMessage.hidden=!0}showSettingsModal(){this.dropdownDetails.hidden=!0,this.modalDetails.open=!0,this.modalDetails.hidden=!1}showExportModal(){this.dropdownDetails.hidden=!0,this.exportDetails.open=!0,this.exportDetails.hidden=!1,this.insertBranchExportComponent()}async insertBranchExportComponent(){const e=this.querySelector("[data-branch-export-url]");if(!e)return;const t=e.getAttribute("data-branch-export-url");if(!t)return;const n=await(0,ee.a)(document,t);!n||(e.innerHTML="",e.appendChild(n))}},"OptionsPopoverElement");D([_.fA],I.prototype,"dropdownDetails",2),D([_.fA],I.prototype,"modalDetails",2),D([_.fA],I.prototype,"settingsModal",2),D([_.fA],I.prototype,"skuForm",2),D([_.fA],I.prototype,"resultMessage",2),D([_.fA],I.prototype,"errorMessage",2),D([_.fA],I.prototype,"exportDetails",2),I=D([_.Ih],I);var ne=Object.defineProperty,re=Object.getOwnPropertyDescriptor,V=i((e,t,n,a)=>{for(var c=a>1?void 0:a?re(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&ne(t,n,c),c},"vscode_forwarder_element_decorateClass");let U=i(class extends HTMLElement{async connectedCallback(){this.closeDetailsPopover();const e=this.getAttribute("data-codespace-url");e&&(window.location.href=e)}closeDetailsPopover(){const e=document.querySelector(".js-codespaces-details-container");e&&(e.open=!1)}},"VscodeForwarderElement");V([_.fA],U.prototype,"vscodeLink",2),U=V([_.Ih],U);var le=f(10965),de=f(37505),oe=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,R=i((e,t,n,a)=>{for(var c=a>1?void 0:a?ie(t,n):t,E=e.length-1,L;E>=0;E--)(L=e[E])&&(c=(a?L(t,n,c):L(c))||c);return a&&c&&oe(t,n,c),c},"codespace_zero_config_element_decorateClass");let P=i(class extends HTMLElement{connectedCallback(){this.toggleLocationConfigs("production")}updateVscsTargets(){this.vscsTargetUrl.disabled=this.vscsTarget.value!=="local",this.toggleLocationConfigs(this.vscsTarget.value);for(const e of this.vscsTargets)e.value=this.vscsTarget.value}updateVscsTargetUrls(){for(const e of this.vscsTargetUrls)e.value=this.vscsTargetUrl.value}updateLocations(e){const t=e.currentTarget;this.setLocationValues(t.value)}setLocationValues(e){for(const t of this.locations)t.value=e}toggleLocationConfigs(e){for(const t of this.locationConfigs)if(t.getAttribute("data-vscs-target")===e){t.hidden=!1;const n=t.querySelector("option");n&&this.setLocationValues(n.value)}else t.hidden=!0}},"CodespaceZeroConfigElement");R([_.fA],P.prototype,"regionConfig",2),R([_.fA],P.prototype,"vscsTarget",2),R([_.fA],P.prototype,"vscsTargetUrl",2),R([_.GO],P.prototype,"locationConfigs",2),R([_.GO],P.prototype,"vscsTargets",2),R([_.GO],P.prototype,"vscsTargetUrls",2),R([_.GO],P.prototype,"locations",2),P=R([_.Ih],P)},63621:(S,T,f)=>{f.d(T,{H:()=>u,v:()=>g});var w=f(59753);function g(){const p=document.getElementById("ajax-error-message");p&&(p.hidden=!1)}i(g,"showGlobalError");function u(){const p=document.getElementById("ajax-error-message");p&&(p.hidden=!0)}i(u,"hideGlobalError"),(0,w.on)("deprecatedAjaxError","[data-remote]",function(p){const h=p.detail,{error:r,text:d}=h;p.currentTarget===p.target&&(r==="abort"||r==="canceled"||(/<html/.test(d)?(g(),p.stopImmediatePropagation()):setTimeout(function(){p.defaultPrevented||g()},0)))}),(0,w.on)("deprecatedAjaxSend","[data-remote]",function(){u()}),(0,w.on)("click",".js-ajax-error-dismiss",function(){u()})},7732:(S,T,f)=>{f.d(T,{W:()=>g});var w=f(59753);async function g(u){const h=document.querySelector("#site-details-dialog").content.cloneNode(!0),r=h.querySelector("details"),d=r.querySelector("details-dialog"),v=r.querySelector(".js-details-dialog-spinner");u.detailsClass&&r.classList.add(...u.detailsClass.split(" ")),u.dialogClass&&d.classList.add(...u.dialogClass.split(" ")),u.label?d.setAttribute("aria-label",u.label):u.labelledBy&&d.setAttribute("aria-labelledby",u.labelledBy),document.body.append(h);const s=await u.content;return v.remove(),d.prepend(s),r.addEventListener("toggle",()=>{r.hasAttribute("open")||((0,w.f)(d,"dialog:remove"),r.remove())}),d}i(g,"dialog")},75488:(S,T,f)=>{f.d(T,{C:()=>g,x:()=>w});const w=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(u=>{document.addEventListener("DOMContentLoaded",()=>{u()})})}(),g=function(){return document.readyState==="complete"?Promise.resolve():new Promise(u=>{window.addEventListener("load",u)})}()},66963:(S,T,f)=>{f.d(T,{D:()=>p,a:()=>u});var w=f(99997),g=f(5638);async function u(h,r,d){const v=new Request(r,d);v.headers.append("X-Requested-With","XMLHttpRequest");const s=await self.fetch(v);if(s.status<200||s.status>=300)throw new Error(`HTTP ${s.status}${s.statusText||""}`);return(0,w.t)((0,w.P)(h),s),(0,g.r)(h,await s.text())}i(u,"fetchSafeDocumentFragment");function p(h,r,d=1e3){return i(async function v(s){const o=new Request(h,r);o.headers.append("X-Requested-With","XMLHttpRequest");const m=await self.fetch(o);if(m.status<200||m.status>=300)throw new Error(`HTTP ${m.status}${m.statusText||""}`);if(m.status===200)return m;if(m.status===202)return await new Promise(y=>setTimeout(y,s)),v(s*1.5);throw new Error(`Unexpected ${m.status} response status from poll endpoint`)},"poll")(d)}i(p,"fetchPoll")},57654:(S,T,f)=>{f.d(T,{Bt:()=>h,DN:()=>v,KL:()=>m,Se:()=>d,qC:()=>y,sw:()=>s});var w=f(59753),g=f(2077),u=f(63621);(0,w.on)("click",".js-remote-submit-button",async function(l){const C=l.currentTarget.form;l.preventDefault();let _;try{_=await fetch(C.action,{method:C.method,body:new FormData(C),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}_&&!_.ok&&(0,u.v)()});function p(l,b,C){return l.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:C}))}i(p,"fire");function h(l,b){b&&(r(l,b),(0,g.j)(b)),p(l,"submit",!0)&&l.submit()}i(h,"requestSubmit");function r(l,b){if(!(l instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(b instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(b.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!l||l!==b.form)throw new Error("The specified element is not owned by the form element.")}i(r,"checkButtonValidity");function d(l,b){if(typeof b=="boolean")if(l instanceof HTMLInputElement)l.checked=b;else throw new TypeError("only checkboxes can be set to boolean value");else{if(l.type==="checkbox")throw new TypeError("checkbox can't be set to string value");l.value=b}p(l,"change",!1)}i(d,"changeValue");function v(l,b){for(const C in b){const _=b[C],x=l.elements.namedItem(C);(x instanceof HTMLInputElement||x instanceof HTMLTextAreaElement)&&(x.value=_)}}i(v,"fillFormValues");function s(l){if(!(l instanceof HTMLElement))return!1;const b=l.nodeName.toLowerCase(),C=(l.getAttribute("type")||"").toLowerCase();return b==="select"||b==="textarea"||b==="input"&&C!=="submit"&&C!=="reset"||l.isContentEditable}i(s,"isFormField");function o(l){return new URLSearchParams(l)}i(o,"searchParamsFromFormData");function m(l,b){const C=new URLSearchParams(l.search),_=o(b);for(const[x,O]of _)C.append(x,O);return C.toString()}i(m,"combineGetFormSearchParams");function y(l){return o(new FormData(l)).toString()}i(y,"serialize")},99997:(S,T,f)=>{f.d(T,{P:()=>w,t:()=>u});function w(p){const h=[...p.querySelectorAll("meta[name=html-safe-nonce]")].map(r=>r.content);if(h.length<1)throw new Error("could not find html-safe-nonce on document");return h}i(w,"getDocumentHtmlSafeNonces");class g extends Error{constructor(h,r){super(`${h} for HTTP ${r.status}`);this.response=r}}i(g,"ResponseError");function u(p,h,r=!1){const d=h.headers.get("content-type")||"";if(!r&&!d.startsWith("text/html"))throw new g(`expected response with text/html, but was ${d}`,h);if(r&&!(d.startsWith("text/html")||d.startsWith("application/json")))throw new g(`expected response with text/html or application/json, but was ${d}`,h);const v=h.headers.get("x-html-safe");if(v){if(!p.includes(v))throw new g("response X-HTML-Safe nonce did not match",h)}else throw new g("missing X-HTML-Safe nonce",h)}i(u,"verifyResponseHtmlSafeNonce")},10965:(S,T,f)=>{var w=f(90420),g=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p=i((r,d,v,s)=>{for(var o=s>1?void 0:s?u(d,v):d,m=r.length-1,y;m>=0;m--)(y=r[m])&&(o=(s?y(d,v,o):y(o))||o);return s&&o&&g(d,v,o),o},"__decorateClass");let h=i(class extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));const r=this.closest("details");r&&r.addEventListener("toggle",()=>{r.open&&this.source.focus()})}relayKeydown(r){if((this.isControlTab(r.target)||r.target===this.source)&&(r.key==="ArrowDown"||r.key==="Tab"))r.preventDefault(),r.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"));else if(r.key==="Escape"){const d=this.closest("details");d&&d.removeAttribute("open")}}isControlTab(r){return!r||!this.control?!1:Array.from(this.control.children).includes(r)}relayInput(r){if(!r.target)return;const v=r.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:v}))}routeCustomEvent(r){this.sinks[this.selectedIndex].dispatchEvent(r)}get selectedIndex(){if(!this.control)return 0;const r=this.control.querySelector('[aria-selected="true"]');return r?Array.from(this.control.children).indexOf(r):0}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(r){this.source.value=this.storedInput[this.selectedIndex];const d=r.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=d,this.source.setAttribute("aria-label",d),this.notifySelected()}notifySelected(){const r=this.sinks[this.selectedIndex],d=new CustomEvent("tab-selected");r.dispatchEvent(d)}},"InputDemuxElement");p([w.fA],h.prototype,"source",2),p([w.GO],h.prototype,"sinks",2),p([w.fA],h.prototype,"control",2),h=p([w.Ih],h)},5638:(S,T,f)=>{f.d(T,{r:()=>w});function w(g,u){const p=g.createElement("template");return p.innerHTML=u,g.importNode(p.content,!0)}i(w,"parseHTML")},70290:(S,T,f)=>{f.d(T,{Z:()=>w});function w(g){var u,p;const h=(p=(u=g.head)==null?void 0:u.querySelector('meta[name="expected-hostname"]'))==null?void 0:p.content;if(!h)return!1;const r=h.replace(/\.$/,"").split(".").slice(-2).join("."),d=g.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return r!==d}i(w,"detectProxySite")},37505:(S,T,f)=>{var w=f(41891),g=f(69567),u=f(90420),p=f(17945),h=Object.defineProperty,r=Object.getOwnPropertyDescriptor,d=i((s,o,m,y)=>{for(var l=y>1?void 0:y?r(o,m):o,b=s.length-1,C;b>=0;b--)(C=s[b])&&(l=(y?C(o,m,l):C(l))||l);return y&&l&&h(o,m,l),l},"__decorateClass");let v=i(class extends HTMLElement{constructor(){super(...arguments);this.isCurrentVisible=!1,this.currentSelectionIndex=null,this.handleWindowResize=()=>{if(!this.virtualizedList)return;const s=this.isMobileViewport,o=this.windowHeight;this.updateViewportSize();const m=s!==this.isMobileViewport,y=o!==this.windowHeight;if(m){this.virtualizedList.destroy(),this.setupVirtualizedList();return}!this.isMobileViewport||!y||(this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList.resize(this.listHeight))},this.windowResized=()=>{this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),this.resizeAnimationRequest=requestAnimationFrame(this.handleWindowResize)}}connectedCallback(){window.addEventListener("resize",this.windowResized),this.refType=this.getRequiredAttr("type")==="branch"?w.r.Branch:w.r.Tag;const s=this.getAttribute("current-committish");this.currentCommittish=s?atob(s):null,this.input=this.hasAttribute("initial-filter")&&this.currentCommittish||"",this.defaultBranch=atob(this.getRequiredAttr("default-branch")),this.nameWithOwner=atob(this.getRequiredAttr("name-with-owner")),this.canCreate=this.hasAttribute("can-create"),this.prefetchOnMouseover=this.hasAttribute("prefetch-on-mouseover");const o=this.getRequiredAttr("query-endpoint"),m=this.getRequiredAttr("cache-key");this.index=new w.W(this.refType,this,o,m,this.nameWithOwner),this.updateViewportSize(),this.setupFetchListeners()}disconnectedCallback(){this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),window.removeEventListener("resize",this.windowResized)}updateViewportSize(){this.isMobileViewport=window.innerWidth<544,this.windowHeight=window.innerHeight}inputEntered(s){this.input=s.detail,this.render()}tabSelected(){this.index.fetchData()}renderTemplate(s,o){return new g.R(s,o,g.XK)}renderRow(s){const o=this.index.currentSearchResult[s];if(!o&&s>=this.listLength)return document.createElement("span");if(this.index.fetchFailed)return this.renderTemplate(this.fetchFailedTemplate,{index:s,refName:this.input});if(!o){const C=this.input===this.currentCommittish;return this.isCurrentVisible||(this.isCurrentVisible=C),this.renderTemplate(this.noMatchTemplate,{index:s,isCurrent:C,refName:this.input})}const m=this.input.length>0,y=m?"is-filtering":"",l=o===this.currentCommittish;this.isCurrentVisible||(this.isCurrentVisible=l);const b=this.renderTemplate(this.itemTemplate,{refName:o,index:s,isFilteringClass:y,urlEncodedRefName:this.urlEncodeRef(o),isCurrent:l,isNotDefault:o!==this.defaultBranch});if(m){const C=b.querySelector("span");C.textContent="";const _=o.split(this.input),x=_.length-1;for(let O=0;O<_.length;O++){const F=_[O];if(C.appendChild(document.createTextNode(F)),O<x){const A=document.createElement("b");A.textContent=this.input,C.appendChild(A)}}}return b}urlEncodeRef(s){return encodeURIComponent(s).replaceAll("%2F","/").replaceAll("%3A",":").replaceAll("%2B","+")}render(){if(this.currentSelectionIndex=null,!this.index.isLoading){if(!this.virtualizedList){this.index.search(this.input),this.setupVirtualizedList();return}this.listContainer.scrollTop=0,this.index.search(this.input),this.virtualizedList.setRowCount(this.listLength)}}get listHeight(){return this.isMobileViewport?this.windowHeight*.3:330}get listLength(){const s=this.index.currentSearchResult.length;return this.showCreateRow?s+1:s||1}get showCreateRow(){return!this.index.fetchFailed&&!this.index.exactMatchFound&&this.input!==""&&this.canCreate}getRequiredAttr(s,o=this){const m=o.getAttribute(s);if(!m)throw new Error(`Missing attribute for ${o}: ${s}`);return m}setupFetchListeners(){const s=this.closest("details");let o=!1;const m=i(()=>{o||(this.index.fetchData(),o=!0)},"fetch");if(!s||s.open){m();return}this.prefetchOnMouseover&&s.addEventListener("mouseover",m,{once:!0}),this.addEventListener("keydown",this.keydown),this.addEventListener("change",this.updateCurrent);const y=s.querySelector("input[data-ref-filter]");y&&(y.addEventListener("input",()=>{this.input=y.value,this.render()}),y.addEventListener("keydown",l=>{if(l.key==="ArrowDown"||l.key==="Tab")l.preventDefault(),l.stopPropagation(),this.focusFirstListMember();else if(l.key==="Enter"){let b=this.index.currentSearchResult.indexOf(this.input);if(b===-1)if(this.showCreateRow)b=this.listLength-1;else return;s.querySelector(`[data-index="${b}"]`).click(),l.preventDefault()}}))}focusFirstListMember(){!this.virtualizedList||(this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex))}updateCurrent(s){s.target instanceof HTMLInputElement&&s.target.checked&&s.target.value&&(this.currentCommittish=s.target.value)}keydown(s){if(this.currentSelectionIndex!==null){if(s.key==="Enter"){const o=document.activeElement;if(!o)return;o.click(),s.preventDefault();return}if(!(s.key==="Tab"&&s.shiftKey)&&s.key!=="Escape")switch(s.preventDefault(),s.stopPropagation(),s.key){case"ArrowUp":{this.currentSelectionIndex--,this.currentSelectionIndex<0&&(this.currentSelectionIndex=this.listLength-1),this.focusItemAtIndex(this.currentSelectionIndex);break}case"Home":{this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex);break}case"End":{this.currentSelectionIndex=this.listLength-1,this.focusItemAtIndex(this.currentSelectionIndex);break}case"Tab":case"ArrowDown":{this.currentSelectionIndex++,this.currentSelectionIndex>this.listLength-1&&(this.currentSelectionIndex=0),this.focusItemAtIndex(this.currentSelectionIndex);break}}}}focusItemAtIndex(s){this.virtualizedList.scrollToIndex(s,"center"),setTimeout(()=>{const o=this.listContainer.querySelector(`[data-index="${s}"]`);o&&o.focus()},20)}setupVirtualizedList(){this.listContainer.innerHTML="",this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList=new p.Z(this.listContainer,{height:this.listHeight,rowCount:this.listLength,renderRow:this.renderRow.bind(this),rowHeight:s=>{const o=this.isMobileViewport?54:33;return this.showCreateRow&&s===this.listLength-1?51:o},onRowsRendered:()=>{var s;this.hiddenCurrentElement&&(this.listContainer.removeChild(this.hiddenCurrentElement),delete this.hiddenCurrentElement),this.isCurrentVisible?this.isCurrentVisible=!1:this.hiddenCurrentItemTemplate&&(this.hiddenCurrentElement=document.createElement("div"),(s=this.hiddenCurrentElement)==null||s.appendChild(this.renderTemplate(this.hiddenCurrentItemTemplate,{refName:this.currentCommittish})),this.listContainer.appendChild(this.hiddenCurrentElement))},initialIndex:0,overscanCount:6}),this.virtualizedList.resize.bind(this.virtualizedList)}},"RefSelectorElement");d([u.fA],v.prototype,"listContainer",2),d([u.fA],v.prototype,"itemTemplate",2),d([u.fA],v.prototype,"noMatchTemplate",2),d([u.fA],v.prototype,"fetchFailedTemplate",2),d([u.fA],v.prototype,"hiddenCurrentItemTemplate",2),v=d([u.Ih],v)},41891:(S,T,f)=>{f.d(T,{W:()=>v,r:()=>r});var w=f(31579),g=f(77552);const{getItem:u,setItem:p,removeItem:h}=(0,w.Z)("localStorage",{throwQuotaErrorsOnSet:!0});var r=(s=>(s.Branch="branch",s.Tag="tag",s))(r||{});const d=i(class{constructor(s,o,m,y,l){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.searchTerm="",this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=s,this.selector=o,this.refEndpoint=m,this.cacheKey=y,this.nameWithOwner=l}render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;const s=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(s)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch{this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(s){if(this.emitStats(s),!s.ok){this.fetchFailed=!0;return}const o=s.clone(),m=await s.json();this.knownItems=m.refs,this.cacheKey=m.cacheKey,this.flushToLocalStorage(await o.text())}emitStats(s){if(!s.ok){(0,g.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(s.status){case 200:{(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break}case 304:{(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break}default:(0,g.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(s){if(this.searchTerm=s,s===""){this.currentSearchResult=this.knownItems;return}const o=[],m=[];this.exactMatchFound=!1;let y;for(const l of this.knownItems)if(y=l.indexOf(s),!(y<0)){if(y===0){s===l?(m.unshift(l),this.exactMatchFound=!0):m.push(l);continue}o.push(l)}this.currentSearchResult=[...m,...o]}bootstrapFromLocalStorage(){const s=u(this.localStorageKey);if(!s)return!1;const o=JSON.parse(s);return o.cacheKey!==this.cacheKey||!("refs"in o)?(h(this.localStorageKey),!1):(this.knownItems=o.refs,this.isLoading=!1,(0,g.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0)}async flushToLocalStorage(s){try{p(this.localStorageKey,s)}catch(o){if(o.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,g.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{p(this.localStorageKey,s)}catch(m){m.message.toLowerCase().includes("quota")&&(0,g.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw o}}clearSiblingLocalStorage(){for(const s of Object.keys(localStorage))s.startsWith(d.LocalStoragePrefix)&&h(s)}get localStorageKey(){return`${d.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}},"_SearchIndex");let v=d;v.LocalStoragePrefix="ref-selector"},2077:(S,T,f)=>{f.d(T,{j:()=>w,u:()=>g});function w(u){const p=u.closest("form");if(!(p instanceof HTMLFormElement))return;let h=g(p);if(u.name){const r=u.matches("input[type=submit]")?"Submit":"",d=u.value||r;h||(h=document.createElement("input"),h.type="hidden",h.classList.add("is-submit-button-value"),p.prepend(h)),h.name=u.name,h.value=d}else h&&h.remove()}i(w,"persistSubmitButtonValue");function g(u){const p=u.querySelector("input.is-submit-button-value");return p instanceof HTMLInputElement?p:null}i(g,"findPersistedSubmitButtonValue")},31579:(S,T,f)=>{f.d(T,{Z:()=>g});class w{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}i(w,"NoOpStorage");function g(u,p={throwQuotaErrorsOnSet:!1},h=window){let r;try{r=h[u]}catch{r=new w}const{throwQuotaErrorsOnSet:d}=p;function v(m){try{return r.getItem(m)}catch{return null}}i(v,"getItem");function s(m,y){try{r.setItem(m,y)}catch(l){if(d&&l.message.toLowerCase().includes("quota"))throw l}}i(s,"setItem");function o(m){try{r.removeItem(m)}catch{}}return i(o,"removeItem"),{getItem:v,setItem:s,removeItem:o}}i(g,"safeStorage")},77552:(S,T,f)=>{f.d(T,{b:()=>p});var w=f(70290),g=f(75488);let u=[];function p(s,o=!1){s.timestamp===void 0&&(s.timestamp=new Date().getTime()),s.loggedIn=v(),u.push(s),o?d():r()}i(p,"sendStats");let h=null;async function r(){await g.C,h==null&&(h=window.requestIdleCallback(d))}i(r,"scheduleSendStats");function d(){var s,o;if(h=null,!u.length||(0,w.Z)(document))return;const m=(o=(s=document.head)==null?void 0:s.querySelector('meta[name="browser-stats-url"]'))==null?void 0:o.content;if(!m)return;const y=JSON.stringify({stats:u});try{navigator.sendBeacon&&navigator.sendBeacon(m,y)}catch{}u=[]}i(d,"flushStats");function v(){var s,o;return!!((o=(s=document.head)==null?void 0:s.querySelector('meta[name="user-login"]'))==null?void 0:o.content)}i(v,"isLoggedIn"),document.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d)}},S=>{var T=i(w=>S(S.s=w),"__webpack_exec__");S.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_virtualized-list_es_index_js-node_modules_github_template-parts_lib_index_js","vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-1424531"],()=>T(54891));var f=S.O()}]);})();

//# sourceMappingURL=codespaces-e9e6d2891e7d.js.map